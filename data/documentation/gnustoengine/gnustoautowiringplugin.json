{"hierarchy":{"paths":[["doc:\/\/GnustoEngine\/documentation\/GnustoEngine"]]},"kind":"article","abstract":[{"type":"text","text":"Eliminate boilerplate with automatic ID generation and game setup."}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/gnustoengine\/gnustoautowiringplugin"],"traits":[{"interfaceLanguage":"swift"}]}],"metadata":{"modules":[{"name":"GnustoEngine"}],"title":"GnustoAutoWiringPlugin","roleHeading":"Article","role":"article"},"primaryContentSections":[{"content":[{"type":"heading","anchor":"Overview","text":"Overview","level":2},{"inlineContent":[{"text":"The GnustoAutoWiringPlugin is a Swift Package Manager build tool plugin that automatically discovers patterns in your game code and generates all the necessary ID constants, extensions, and GameBlueprint wiring. This eliminates the tedious and error-prone task of manually maintaining ID constants and connection code. The plugin has been enhanced to work with the new proxy system, combat mechanics, character systems, and conversation features.","type":"text"}],"type":"paragraph"},{"level":2,"type":"heading","text":"What Gets Generated","anchor":"What-Gets-Generated"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The plugin scans your Swift source files and automatically generates:"}]},{"level":3,"type":"heading","text":"ID Extensions","anchor":"ID-Extensions"},{"syntax":"swift","code":["\/\/ From: Location(id: .foyer, ...)","\/\/ Generates:","extension LocationID {","    static let foyer = LocationID(\"foyer\")","}","","\/\/ From: Item(id: .cloak, ...)","\/\/ Generates:","extension ItemID {","    static let cloak = ItemID(\"cloak\")","}","","\/\/ From: GlobalID(\"score\") or global state usage","\/\/ Generates:","extension GlobalID {","    static let score = GlobalID(\"score\")","}","","\/\/ From: Fuse(id: .timer, ...)","\/\/ Generates:","extension FuseID {","    static let timer = FuseID(\"timer\")","}","","\/\/ From: Daemon(id: .ambientSound, ...)","\/\/ Generates:","extension DaemonID {","    static let ambientSound = DaemonID(\"ambientSound\")","}","","\/\/ From: Verb(\"custom\") for game-specific verbs","\/\/ Generates:","extension Verb {","    static let custom = Verb(\"custom\")","}","","\/\/ From: CharacterID usage in combat\/conversation systems","\/\/ Generates:","extension CharacterID {","    static let wizard = CharacterID(\"wizard\")","}","","\/\/ From: ConversationID usage","\/\/ Generates:","extension ConversationID {","    static let wizardChat = ConversationID(\"wizardChat\")","}"],"type":"codeListing"},{"level":3,"type":"heading","text":"GameBlueprint Extensions","anchor":"GameBlueprint-Extensions"},{"type":"paragraph","inlineContent":[{"text":"The plugin aggregates all your game content and provides complete GameBlueprint implementations:","type":"text"}]},{"syntax":"swift","code":["extension MyGameBlueprint {","    \/\/ Auto-aggregated from all area files","    var items: [Item] {","        [","            SomeArea.cloak,","            SomeArea.hook,","            AnotherArea.sword,","            \/\/ ... all items discovered","        ]","    }","","    var locations: [Location] {","        [","            SomeArea.foyer,","            SomeArea.cloakroom,","            AnotherArea.cave,","            \/\/ ... all locations discovered","        ]","    }","","    \/\/ Auto-wired event handlers with proper scoping","    var itemEventHandlers: [ItemID: ItemEventHandler] {","        [","            .cloak: SomeArea.cloakHandler,","            .sword: AnotherArea.swordHandler,","            \/\/ ... all handlers discovered","        ]","    }","","    var locationEventHandlers: [LocationID: LocationEventHandler] {","        [","            .foyer: SomeArea.foyerHandler,","            \/\/ ... all handlers discovered","        ]","    }","","    \/\/ Auto-registered time-based events","    var timeRegistry: TimeRegistry {","        let registry = TimeRegistry()","        registry.registerFuse(SomeArea.timerFuse)","        registry.registerDaemon(AnotherArea.ambientDaemon)","        return registry","    }","","    \/\/ Auto-configured messenger system","    var messenger: MessageProvider {","        \/\/ Uses custom messenger if defined, otherwise defaults","        return CustomGameMessenger()","    }","","    \/\/ Auto-discovered character sheets and combat configurations","    var characterSheets: [ItemID: CharacterSheet] {","        [","            .troll: CharacterSheet(health: 25, maxHealth: 25, attackPower: 8),","            .wizard: CharacterSheet(health: 15, maxHealth: 15, attackPower: 5),","            \/\/ ... all characters with sheets discovered","        ]","    }","}"],"type":"codeListing"},{"level":2,"type":"heading","text":"Usage","anchor":"Usage"},{"level":3,"type":"heading","text":"Adding to Your Project","anchor":"Adding-to-Your-Project"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Include the plugin in your "},{"type":"codeVoice","code":"Package.swift"},{"type":"text","text":":"}]},{"syntax":"swift","code":["\/\/ swift-tools-version: 6.1","import PackageDescription","","let package = Package(","    name: \"MyGame\",","    dependencies: [","        .package(url: \"https:\/\/github.com\/samadhiBot\/Gnusto\", from: \"1.0.0\"),","    ],","    targets: [","        .executableTarget(","            name: \"MyGame\",","            dependencies: [\"GnustoEngine\"],","            plugins: [\"GnustoAutoWiringPlugin\"]  \/\/ Add this line","        ),","    ]",")"],"type":"codeListing"},{"level":3,"type":"heading","text":"Organizing Your Code","anchor":"Organizing-Your-Code"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The plugin works best when you organize your game content into logical areas:"}]},{"syntax":"swift","code":["\/\/ File: Sources\/MyGame\/Areas\/TownSquare.swift","enum TownSquare {","    static let square = Location(","        id: .townSquare,  \/\/ Plugin generates LocationID.townSquare","        .name(\"Town Square\"),","        .description(\"A bustling marketplace...\")","    )","","    static let fountain = Item(","        id: .fountain,    \/\/ Plugin generates ItemID.fountain","        .name(\"ornate fountain\"),","        .in(.townSquare),","        .omitDescription","    )","","    static let guard = Item(","        id: .guard,       \/\/ Plugin generates ItemID.guard","        .name(\"town guard\"),","        .isCharacter,","        .characterSheet(","            health: 20,","            maxHealth: 20,","            classification: .friendly","        ),","        .in(.townSquare)","    )","","    static let fountainHandler = ItemEventHandler(for: .fountain) {","        \/\/ Custom fountain behavior","    }","","    static let guardHandler = ItemEventHandler(for: .guard) {","        \/\/ Custom guard conversation and combat behavior","    }","}"],"type":"codeListing"},{"level":3,"type":"heading","text":"Static vs Instance Properties","anchor":"Static-vs-Instance-Properties"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The plugin supports both architectural patterns:"}]},{"level":4,"type":"heading","text":"Enum-Based Areas (Static Properties)","anchor":"Enum-Based-Areas-Static-Properties"},{"syntax":"swift","code":["enum Castle {","    static let throneRoom = Location(id: .throneRoom, ...)","    static let crown = Item(id: .crown, ...)","    static let crownHandler = ItemEventHandler(for: .crown) { ... }","}"],"type":"codeListing"},{"level":4,"type":"heading","text":"Struct-Based Areas (Instance Properties)","anchor":"Struct-Based-Areas-Instance-Properties"},{"syntax":"swift","code":["struct Castle {","    let throneRoom = Location(id: .throneRoom, ...)","    let crown = Item(id: .crown, ...)","    let crownHandler = ItemEventHandler(for: .crown) { ... }","}"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The plugin automatically detects which pattern you‚Äôre using and generates appropriate access code."}]},{"level":2,"type":"heading","text":"Pattern Recognition","anchor":"Pattern-Recognition"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The plugin recognizes these patterns automatically:"}]},{"level":3,"type":"heading","text":"Entity Creation Patterns","anchor":"Entity-Creation-Patterns"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"code":"Location(id: .someID, ...)","type":"codeVoice"}]}]},{"content":[{"inlineContent":[{"code":"Item(id: .someID, ...)","type":"codeVoice"},{"text":" including character items with ","type":"text"},{"code":".isCharacter","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"Player(in: .someLocation)","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Exit destinations: "},{"code":".to(.someLocation)","type":"codeVoice"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Parent entities: ","type":"text"},{"code":".location(.someLocation)","type":"codeVoice"},{"text":", ","type":"text"},{"code":".item(.someItem)","type":"codeVoice"}]}]},{"content":[{"inlineContent":[{"text":"Character sheets: ","type":"text"},{"code":".characterSheet(health: 20, ...)","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Combat configurations and weapon definitions"}],"type":"paragraph"}]}],"type":"unorderedList"},{"level":3,"type":"heading","text":"ID Usage Patterns","anchor":"ID-Usage-Patterns"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"GlobalID(\"key\")"},{"type":"text","text":" and global state dictionary usage"}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"FuseID(\"timer\")"},{"type":"text","text":" and "},{"type":"codeVoice","code":"DaemonID(\"background\")"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"Verb(\"custom\")"},{"type":"text","text":" for game-specific verbs"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"CharacterID(\"npc\")"},{"type":"text","text":" for character tracking"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"ConversationID(\"dialogue\")"},{"type":"text","text":" for conversation systems"}]}]},{"content":[{"inlineContent":[{"text":"Combat state references and weapon IDs","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"level":3,"type":"heading","text":"Event Handler Patterns","anchor":"Event-Handler-Patterns"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"code":"let nameHandler = ItemEventHandler(for: .itemName) { ... }","type":"codeVoice"}]}]},{"content":[{"inlineContent":[{"code":"static let nameHandler = LocationEventHandler { ... }","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Character event handlers with combat and conversation integration"}]}]},{"content":[{"inlineContent":[{"text":"Custom action handlers with proxy system support","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"level":3,"type":"heading","text":"Time-Based Event Patterns","anchor":"Time-Based-Event-Patterns"},{"items":[{"content":[{"inlineContent":[{"type":"codeVoice","code":"let timerFuse = Fuse(id: .timer, ...)"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"let ambientDaemon = Daemon(id: .ambient, ...)","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Combat-related timing events and turn management"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Conversation timeout and state management timers"}],"type":"paragraph"}]}],"type":"unorderedList"},{"level":2,"type":"heading","text":"Advanced Features","anchor":"Advanced-Features"},{"level":3,"type":"heading","text":"Scope Resolution","anchor":"Scope-Resolution"},{"type":"paragraph","inlineContent":[{"text":"The plugin tracks which area defines each handler and generates proper access code:","type":"text"}]},{"syntax":"swift","code":["\/\/ If CastleArea defines crownHandler as static:","var itemEventHandlers: [ItemID: ItemEventHandler] {","    [.crown: CastleArea.crownHandler]","}","","\/\/ If CastleArea uses instance properties:","private static let _castleArea = CastleArea()","var itemEventHandlers: [ItemID: ItemEventHandler] {","    [.crown: Self._castleArea.crownHandler]","}"],"type":"codeListing"},{"level":3,"type":"heading","text":"Multiple Area Support","anchor":"Multiple-Area-Support"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The plugin aggregates content from all areas in your project:"}]},{"syntax":"swift","code":["\/\/ Your areas:","enum Castle { ... }","enum Forest { ... }","enum Dungeon { ... }","","\/\/ Generated aggregation:","var items: [Item] {","    [","        Castle.crown,","        Castle.throne,","        Forest.tree,","        Forest.path,","        Dungeon.torch,","        Dungeon.skeleton,","    ]","}"],"type":"codeListing"},{"level":3,"type":"heading","text":"Custom Verb Discovery","anchor":"Custom-Verb-Discovery"},{"type":"paragraph","inlineContent":[{"text":"The plugin filters out standard engine verbs and only generates constants for your custom verbs:","type":"text"}]},{"syntax":"swift","code":["\/\/ This won't generate an extension (standard verb):","Verb(\"take\")","","\/\/ This will generate Verb.cast:","Verb(\"cast\")"],"type":"codeListing"},{"level":2,"type":"heading","text":"Output Location","anchor":"Output-Location"},{"type":"paragraph","inlineContent":[{"text":"Generated code is written to your target‚Äôs build directory as ","type":"text"},{"type":"codeVoice","code":"GeneratedIDs.swift"},{"text":". This file is automatically included in your build and contains all the generated extensions and setup code.","type":"text"}]},{"level":2,"type":"heading","text":"Debugging Plugin Issues","anchor":"Debugging-Plugin-Issues"},{"type":"paragraph","inlineContent":[{"text":"If the plugin isn‚Äôt working as expected:","type":"text"}]},{"items":[{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Check Build Output","type":"text"}]},{"type":"text","text":": Look for plugin messages starting with ‚Äúüîç Scanning‚Äù in your build logs"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Verify Patterns"}]},{"type":"text","text":": Ensure your code uses the recognized patterns (see Pattern Recognition above)"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Check File Organization","type":"text"}],"type":"strong"},{"text":": The plugin works best with logical area organization","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Manual Alternative"}]},{"type":"text","text":": You can always disable the plugin and handle setup manually"}]}]}],"type":"orderedList"},{"level":2,"type":"heading","text":"Manual Setup Alternative","anchor":"Manual-Setup-Alternative"},{"type":"paragraph","inlineContent":[{"text":"If you prefer complete control, you can skip the plugin and handle everything manually:","type":"text"}]},{"syntax":"swift","code":["\/\/ Manual ID extensions","extension LocationID {","    static let foyer = LocationID(\"foyer\")","    static let cloakroom = LocationID(\"cloakroom\")","}","","extension ItemID {","    static let cloak = ItemID(\"cloak\")","    static let hook = ItemID(\"hook\")","    static let guard = ItemID(\"guard\")","}","","extension CharacterID {","    static let guard = CharacterID(\"guard\")","}","","\/\/ Manual GameBlueprint implementation","extension MyGameBlueprint {","    var items: [Item] {","        [OperaHouse.cloak, OperaHouse.hook, TownSquare.guard]","    }","","    var locations: [Location] {","        [OperaHouse.foyer, OperaHouse.cloakroom, TownSquare.square]","    }","","    var itemEventHandlers: [ItemID: ItemEventHandler] {","        [","            .cloak: OperaHouse.cloakHandler,","            .guard: TownSquare.guardHandler","        ]","    }","","    var characterSheets: [ItemID: CharacterSheet] {","        [.guard: CharacterSheet(health: 20, maxHealth: 20)]","    }","","    var messenger: MessageProvider {","        return CustomGameMessenger()","    }","}"],"type":"codeListing"},{"level":2,"type":"heading","text":"Best Practices","anchor":"Best-Practices"},{"items":[{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Organize by Areas","type":"text"}]},{"type":"text","text":": Group related locations, items, characters, and handlers together"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Use Descriptive Names"}]},{"type":"text","text":": Handler names should clearly indicate their purpose"}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Be Consistent"}]},{"type":"text","text":": Choose either static or instance properties and stick with it"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Logical Grouping","type":"text"}]},{"type":"text","text":": Keep related game content in the same file\/area"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Character Integration","type":"text"}]},{"type":"text","text":": Place character sheets and combat configurations near their item definitions"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Proxy Compatibility"}],"type":"strong"},{"text":": Ensure event handlers work with the proxy system for safe state access","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Test Thoroughly"}],"type":"strong"},{"text":": The plugin generates code, so always verify your build succeeds","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Combat Organization","type":"text"}],"type":"strong"},{"type":"text","text":": Group combat-related items (weapons, armor, characters) logically"}]}]}],"type":"orderedList"},{"type":"paragraph","inlineContent":[{"text":"The GnustoAutoWiringPlugin transforms game development from tedious boilerplate management to pure creative focus. With enhanced support for combat systems, character management, conversation mechanics, and the proxy architecture, it handles all the complex wiring while you craft amazing interactive experiences with rich NPCs, dynamic combat, and engaging dialogue!","type":"text"}]}],"kind":"content"}],"identifier":{"url":"doc:\/\/GnustoEngine\/documentation\/GnustoEngine\/GnustoAutoWiringPlugin","interfaceLanguage":"swift"},"references":{"doc://GnustoEngine/documentation/GnustoEngine":{"type":"topic","url":"\/documentation\/gnustoengine","abstract":[],"kind":"symbol","identifier":"doc:\/\/GnustoEngine\/documentation\/GnustoEngine","title":"GnustoEngine","role":"collection"}}}