{"kind":"symbol","relationshipsSections":[{"identifiers":["doc:\/\/GnustoEngine\/s8SendableP"],"title":"Conforms To","type":"conformsTo","kind":"relationships"}],"primaryContentSections":[{"declarations":[{"languages":["swift"],"tokens":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"text":"DynamicAttributeRegistry","kind":"identifier"}],"platforms":["macOS"]}],"kind":"declarations"},{"kind":"content","content":[{"type":"heading","text":"Overview","anchor":"overview","level":2},{"inlineContent":[{"type":"text","text":"This registry allows game developers to define custom behavior for attributes beyond simple"},{"text":" ","type":"text"},{"type":"text","text":"static values stored in "},{"code":"Item.attributes","type":"codeVoice"},{"text":" or ","type":"text"},{"type":"codeVoice","code":"Location.attributes"},{"type":"text","text":". It separates the"},{"type":"text","text":" "},{"type":"text","text":"behavioral aspects of attributes from their direct state storage."}],"type":"paragraph"},{"level":3,"text":"Use Cases:","anchor":"Use-Cases","type":"heading"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Computed Attributes:"}],"type":"strong"},{"text":" Define an attribute whose value is calculated on the fly based on","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"other game state. For example:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"An item’s ","type":"text"},{"type":"codeVoice","code":"weight"},{"type":"text","text":" attribute could be computed by summing its base weight and the"},{"type":"text","text":" "},{"type":"text","text":"weights of all items it contains (if it’s a container)."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A location’s "},{"code":"lightLevel","type":"codeVoice"},{"text":" attribute could be computed based on whether light sources","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"within it are active and undimmed."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"An NPC’s ","type":"text"},{"type":"codeVoice","code":"mood"},{"text":" attribute might change based on player actions or game events.","type":"text"}]}]}]}]},{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Validated Attributes:"}],"type":"strong"},{"type":"text","text":" Define rules that must be met when attempting to change an"},{"text":" ","type":"text"},{"type":"text","text":"attribute’s value. For example:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Preventing a player’s ","type":"text"},{"code":"strength","type":"codeVoice"},{"type":"text","text":" attribute from exceeding a maximum value."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Ensuring a "},{"code":"doorState","type":"codeVoice"},{"text":" attribute can only transition between valid states","type":"text"},{"text":" ","type":"text"},{"text":"(e.g., ","type":"text"},{"type":"codeVoice","code":"open"},{"type":"text","text":" to "},{"type":"codeVoice","code":"closed"},{"type":"text","text":", but not directly from "},{"type":"codeVoice","code":"locked"},{"type":"text","text":" to "},{"code":"open","type":"codeVoice"},{"type":"text","text":" without unlocking)."}],"type":"paragraph"}]}]}]}]},{"inlineContent":[{"type":"text","text":"Game developers register these custom handlers (closures) with the "},{"type":"codeVoice","code":"DynamicAttributeRegistry"},{"text":",","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"typically during game setup via the "},{"code":"GameBlueprint","type":"codeVoice"},{"text":". The ","type":"text"},{"code":"GameEngine","type":"codeVoice"},{"type":"text","text":" then automatically"},{"type":"text","text":" "},{"type":"text","text":"invokes these handlers when relevant attributes are accessed or modified."}],"type":"paragraph"}]}],"schemaVersion":{"minor":3,"patch":0,"major":0},"metadata":{"symbolKind":"struct","modules":[{"name":"GnustoEngine"}],"navigatorTitle":[{"text":"DynamicAttributeRegistry","kind":"identifier"}],"roleHeading":"Structure","externalID":"s:12GnustoEngine24DynamicAttributeRegistryV","role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"DynamicAttributeRegistry"}],"title":"DynamicAttributeRegistry"},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/GnustoEngine\/documentation\/GnustoEngine\/DynamicAttributeRegistry"},"sections":[],"topicSections":[{"anchor":"Initializers","generated":true,"title":"Initializers","identifiers":["doc:\/\/GnustoEngine\/documentation\/GnustoEngine\/DynamicAttributeRegistry\/init()"]},{"title":"Instance Methods","generated":true,"identifiers":["doc:\/\/GnustoEngine\/documentation\/GnustoEngine\/DynamicAttributeRegistry\/registerItemCompute(key:handler:)","doc:\/\/GnustoEngine\/documentation\/GnustoEngine\/DynamicAttributeRegistry\/registerItemValidate(key:handler:)","doc:\/\/GnustoEngine\/documentation\/GnustoEngine\/DynamicAttributeRegistry\/registerLocationCompute(key:handler:)","doc:\/\/GnustoEngine\/documentation\/GnustoEngine\/DynamicAttributeRegistry\/registerLocationValidate(key:handler:)"],"anchor":"Instance-Methods"},{"anchor":"Type-Aliases","generated":true,"identifiers":["doc:\/\/GnustoEngine\/documentation\/GnustoEngine\/DynamicAttributeRegistry\/ItemComputeHandler","doc:\/\/GnustoEngine\/documentation\/GnustoEngine\/DynamicAttributeRegistry\/ItemValidateHandler","doc:\/\/GnustoEngine\/documentation\/GnustoEngine\/DynamicAttributeRegistry\/LocationComputeHandler","doc:\/\/GnustoEngine\/documentation\/GnustoEngine\/DynamicAttributeRegistry\/LocationValidateHandler"],"title":"Type Aliases"}],"hierarchy":{"paths":[["doc:\/\/GnustoEngine\/documentation\/GnustoEngine"]]},"abstract":[{"type":"text","text":"A registry to hold dynamically computed logic (getters) and validation rules (setters\/validators)"},{"type":"text","text":" "},{"text":"for item and location attributes.","type":"text"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/gnustoengine\/dynamicattributeregistry"]}],"references":{"doc://GnustoEngine/documentation/GnustoEngine/DynamicAttributeRegistry/LocationValidateHandler":{"role":"symbol","type":"topic","title":"DynamicAttributeRegistry.LocationValidateHandler","kind":"symbol","fragments":[{"text":"typealias","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"LocationValidateHandler"}],"identifier":"doc:\/\/GnustoEngine\/documentation\/GnustoEngine\/DynamicAttributeRegistry\/LocationValidateHandler","url":"\/documentation\/gnustoengine\/dynamicattributeregistry\/locationvalidatehandler","abstract":[{"type":"text","text":"A closure that validates a proposed new value for a location’s attribute."}],"navigatorTitle":[{"text":"LocationValidateHandler","kind":"identifier"}]},"doc://GnustoEngine/documentation/GnustoEngine/DynamicAttributeRegistry/registerItemValidate(key:handler:)":{"role":"symbol","type":"topic","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"text":"registerItemValidate","kind":"identifier"},{"kind":"text","text":"("},{"kind":"externalParam","text":"key"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"AttributeID","preciseIdentifier":"s:12GnustoEngine11AttributeIDV"},{"text":", ","kind":"text"},{"text":"handler","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:12GnustoEngine24DynamicAttributeRegistryV","text":"DynamicAttributeRegistry","kind":"typeIdentifier"},{"kind":"text","text":"."},{"kind":"typeIdentifier","preciseIdentifier":"s:12GnustoEngine24DynamicAttributeRegistryV19ItemValidateHandlera","text":"ItemValidateHandler"},{"kind":"text","text":")"}],"title":"registerItemValidate(key:handler:)","url":"\/documentation\/gnustoengine\/dynamicattributeregistry\/registeritemvalidate(key:handler:)","kind":"symbol","abstract":[{"type":"text","text":"Registers a validation handler for a specific item attribute."}],"identifier":"doc:\/\/GnustoEngine\/documentation\/GnustoEngine\/DynamicAttributeRegistry\/registerItemValidate(key:handler:)"},"doc://GnustoEngine/documentation/GnustoEngine/DynamicAttributeRegistry/init()":{"abstract":[{"text":"Creates a new empty DynamicAttributeRegistry.","type":"text"}],"identifier":"doc:\/\/GnustoEngine\/documentation\/GnustoEngine\/DynamicAttributeRegistry\/init()","role":"symbol","fragments":[{"kind":"identifier","text":"init"},{"text":"()","kind":"text"}],"title":"init()","url":"\/documentation\/gnustoengine\/dynamicattributeregistry\/init()","type":"topic","kind":"symbol"},"doc://GnustoEngine/documentation/GnustoEngine/DynamicAttributeRegistry/registerLocationValidate(key:handler:)":{"url":"\/documentation\/gnustoengine\/dynamicattributeregistry\/registerlocationvalidate(key:handler:)","abstract":[{"type":"text","text":"Registers a validation handler for a specific location attribute."}],"role":"symbol","kind":"symbol","identifier":"doc:\/\/GnustoEngine\/documentation\/GnustoEngine\/DynamicAttributeRegistry\/registerLocationValidate(key:handler:)","type":"topic","title":"registerLocationValidate(key:handler:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"registerLocationValidate"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"key"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"AttributeID","preciseIdentifier":"s:12GnustoEngine11AttributeIDV"},{"text":", ","kind":"text"},{"text":"handler","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:12GnustoEngine24DynamicAttributeRegistryV","text":"DynamicAttributeRegistry"},{"text":".","kind":"text"},{"text":"LocationValidateHandler","preciseIdentifier":"s:12GnustoEngine24DynamicAttributeRegistryV23LocationValidateHandlera","kind":"typeIdentifier"},{"text":")","kind":"text"}]},"doc://GnustoEngine/s8SendableP":{"identifier":"doc:\/\/GnustoEngine\/s8SendableP","title":"Swift.Sendable","type":"unresolvable"},"doc://GnustoEngine/documentation/GnustoEngine/DynamicAttributeRegistry":{"role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"DynamicAttributeRegistry","kind":"identifier"}],"kind":"symbol","type":"topic","url":"\/documentation\/gnustoengine\/dynamicattributeregistry","navigatorTitle":[{"text":"DynamicAttributeRegistry","kind":"identifier"}],"title":"DynamicAttributeRegistry","identifier":"doc:\/\/GnustoEngine\/documentation\/GnustoEngine\/DynamicAttributeRegistry","abstract":[{"type":"text","text":"A registry to hold dynamically computed logic (getters) and validation rules (setters\/validators)"},{"type":"text","text":" "},{"text":"for item and location attributes.","type":"text"}]},"doc://GnustoEngine/documentation/GnustoEngine":{"role":"collection","title":"GnustoEngine","abstract":[],"identifier":"doc:\/\/GnustoEngine\/documentation\/GnustoEngine","url":"\/documentation\/gnustoengine","type":"topic","kind":"symbol"},"doc://GnustoEngine/documentation/GnustoEngine/DynamicAttributeRegistry/ItemValidateHandler":{"abstract":[{"text":"A closure that validates a proposed new value for an item’s attribute before it is set.","type":"text"}],"identifier":"doc:\/\/GnustoEngine\/documentation\/GnustoEngine\/DynamicAttributeRegistry\/ItemValidateHandler","type":"topic","kind":"symbol","title":"DynamicAttributeRegistry.ItemValidateHandler","navigatorTitle":[{"text":"ItemValidateHandler","kind":"identifier"}],"role":"symbol","url":"\/documentation\/gnustoengine\/dynamicattributeregistry\/itemvalidatehandler","fragments":[{"kind":"keyword","text":"typealias"},{"text":" ","kind":"text"},{"text":"ItemValidateHandler","kind":"identifier"}]},"doc://GnustoEngine/documentation/GnustoEngine/DynamicAttributeRegistry/LocationComputeHandler":{"role":"symbol","abstract":[{"text":"A closure that dynamically computes the value of a location’s attribute.","type":"text"}],"kind":"symbol","url":"\/documentation\/gnustoengine\/dynamicattributeregistry\/locationcomputehandler","title":"DynamicAttributeRegistry.LocationComputeHandler","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"LocationComputeHandler"}],"navigatorTitle":[{"text":"LocationComputeHandler","kind":"identifier"}],"identifier":"doc:\/\/GnustoEngine\/documentation\/GnustoEngine\/DynamicAttributeRegistry\/LocationComputeHandler","type":"topic"},"doc://GnustoEngine/documentation/GnustoEngine/DynamicAttributeRegistry/ItemComputeHandler":{"role":"symbol","kind":"symbol","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"text":"ItemComputeHandler","kind":"identifier"}],"identifier":"doc:\/\/GnustoEngine\/documentation\/GnustoEngine\/DynamicAttributeRegistry\/ItemComputeHandler","navigatorTitle":[{"kind":"identifier","text":"ItemComputeHandler"}],"type":"topic","url":"\/documentation\/gnustoengine\/dynamicattributeregistry\/itemcomputehandler","abstract":[{"type":"text","text":"A closure that dynamically computes the value of an item’s attribute."}],"title":"DynamicAttributeRegistry.ItemComputeHandler"},"doc://GnustoEngine/documentation/GnustoEngine/DynamicAttributeRegistry/registerItemCompute(key:handler:)":{"kind":"symbol","abstract":[{"type":"text","text":"Registers a compute handler (a dynamic getter) for a specific item attribute."}],"fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"text":"registerItemCompute","kind":"identifier"},{"text":"(","kind":"text"},{"text":"key","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"AttributeID","preciseIdentifier":"s:12GnustoEngine11AttributeIDV"},{"kind":"text","text":", "},{"text":"handler","kind":"externalParam"},{"kind":"text","text":": "},{"preciseIdentifier":"s:12GnustoEngine24DynamicAttributeRegistryV","text":"DynamicAttributeRegistry","kind":"typeIdentifier"},{"kind":"text","text":"."},{"kind":"typeIdentifier","preciseIdentifier":"s:12GnustoEngine24DynamicAttributeRegistryV18ItemComputeHandlera","text":"ItemComputeHandler"},{"text":")","kind":"text"}],"url":"\/documentation\/gnustoengine\/dynamicattributeregistry\/registeritemcompute(key:handler:)","title":"registerItemCompute(key:handler:)","identifier":"doc:\/\/GnustoEngine\/documentation\/GnustoEngine\/DynamicAttributeRegistry\/registerItemCompute(key:handler:)","type":"topic","role":"symbol"},"doc://GnustoEngine/documentation/GnustoEngine/DynamicAttributeRegistry/registerLocationCompute(key:handler:)":{"abstract":[{"text":"Registers a compute handler (a dynamic getter) for a specific location attribute.","type":"text"}],"identifier":"doc:\/\/GnustoEngine\/documentation\/GnustoEngine\/DynamicAttributeRegistry\/registerLocationCompute(key:handler:)","role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"registerLocationCompute","kind":"identifier"},{"kind":"text","text":"("},{"kind":"externalParam","text":"key"},{"text":": ","kind":"text"},{"text":"AttributeID","preciseIdentifier":"s:12GnustoEngine11AttributeIDV","kind":"typeIdentifier"},{"kind":"text","text":", "},{"kind":"externalParam","text":"handler"},{"text":": ","kind":"text"},{"text":"DynamicAttributeRegistry","kind":"typeIdentifier","preciseIdentifier":"s:12GnustoEngine24DynamicAttributeRegistryV"},{"text":".","kind":"text"},{"text":"LocationComputeHandler","kind":"typeIdentifier","preciseIdentifier":"s:12GnustoEngine24DynamicAttributeRegistryV22LocationComputeHandlera"},{"text":")","kind":"text"}],"title":"registerLocationCompute(key:handler:)","url":"\/documentation\/gnustoengine\/dynamicattributeregistry\/registerlocationcompute(key:handler:)","type":"topic","kind":"symbol"}}}